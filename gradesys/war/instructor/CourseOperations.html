<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <title>jQuery Mobile: Demos and Documentation</title>
   <link rel="stylesheet" href="../css/jquery.mobile-1.2.0.css" />
   <!-- <link rel="stylesheet" href="docs/_assets/css/jqm-docs.css" /> -->
   <link rel="stylesheet" href="../css/gradeboard.css" />
   
   <script src="../js/jquery.js"></script>
   <!-- <script src="docs/_assets/js/jqm-docs.js"></script> -->
   <script src="../js/jquery.mobile-1.2.0.js"></script>
   <!-- <script src="../js/jquery.validate.js"></script> -->
   <script src="../js/jquery.validate.min.js"></script>
   <script src="../js/app.js"></script>
	
	
</head>
<body>
<div id="courseOperations" data-role="page">
	<div id="header" data-role="header">
		 <a id="copback" data-icon="back" data-transition="slide"
      >Back</a>
      <h1 id="title"></h1>
      <a id="copsave" data-icon="save" data-role="button" data-transition="slide">Save</a>
	</div>
	
 	<div data-role="content">
   
      <form id="frmEditCourse">
         <div data-role="fieldcontain">
            <label for="courseName">Edit Course Name:</label> <input
               type="text" name="courseName" class="required"
               id="courseName" value=""
            />
         </div>
     </form>
	</div>
	
	<div data-role="footer">
      <a href="CourseView.html" data-icon="edit" data-role="button" data-transition="slide">Edit</a>
      <a href="Grades.html" data-icon="grid" data-role="button" data-transition="slide">Grade</a>
      <a href="CourseView.html" data-icon="delete" data-role="button" data-transition="slide">Delete</a> 
	</div>
	
   <script type="text/javascript">
   
      $('#courseOperations').die().live('pageinit', function() {
         //console.log("pageinitialized");
         $('#copback').click(function() {
            console.log("back clicked");
            app.view.courseList.render();
            $.mobile.changePage("index.html",
               {
                  allowSamePageTransition : true,
                  transition : 'none',
                  reloadPage : false
               });
         });
         
         $('#copview').click(function() {
            //console.log("save clicked");
            app.model.courseView.update(app.model.courseOperations.get());
            app.view.transfer('courseView.html');
         });
         
         $('#copsave').click(function() {
            //console.log("save clicked");
            app.controller.courseOperations.saveCourse();
         });
        
      });
      
      $('#courseOperations').live("pagebeforeshow", function() {
           //var params = app.util.getUrlVars()["courseName"];
           var title = app.model.courseOperations.get();
           $('#title').empty();
           $('#title').append(title);
           $('#courseName').val(title);
           $('#header').trigger('create');
            
         });
   </script>
</div>
</body>

</html>
